# Vue.js 앱 라우팅을 위한 .htaccess
# 호스팅 서버의 /manager-app/ 폴더에 업로드해야 합니다.

# DirectoryIndex 설정 (index.html을 기본 파일로)
DirectoryIndex index.html

<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # 실제 파일이나 디렉토리가 존재하면 그대로 서비스
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    
    # API 요청은 제외
    RewriteCond %{REQUEST_URI} !^/api/
    
    # 모든 요청을 index.html로 리다이렉트 (Vue Router를 위해)
    # 서브디렉토리 내부에서는 상대 경로로 작동
    RewriteRule . index.html [L]
</IfModule>

# 캐시 설정
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 year"
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
</IfModule>

# Gzip 압축
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
</IfModule>
